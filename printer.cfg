
[homing_override]
axes: xyz
set_position_z: 0

gcode:
    G90
    G1 z20 f5000

  {% set home_all = 'X' not in params and 'Y' not in params and 'Z' not in params %}

  {% if home_all or 'X' in params %}
   # set_position_x: 5
   # g91
   # g1 x-5 f300
   # G90
    _HOME_X
  {% endif %}
  
  {% if home_all or 'Y' in params %}
   # set_position_y: 5
   # g91
   # g1 y-5 f300
   # G90
    _HOME_Y
  {% endif %}
  
  {% if home_all or 'Z' in params %}
    G90
    G1 Z20
    G1 x175 y197 F12000 #probe middle
    G28 Z
    G1 Z5
  {% endif %}


[printer]
kinematics: corexy
max_velocity: 700  
max_accel: 15000                 #Max 4000
max_z_velocity: 20   
max_z_accel: 300 #300
square_corner_velocity: 5.0

[mcu]
canbus_uuid: 3a9f8167decd
# python3 flashtool.py -i can0 -f ~/klipper/out/klipper.bin -u 3a9f8167decd
# python3 flashtool.py -f ~/klipper/out/klipper.bin -d /dev/serial/by-id/usb-CanBoot_stm32f446xx_3F002F000251323438323636-if00


[mcu EBBCan]
canbus_uuid: acaffce1fb68

[adxl345]
cs_pin: EBBCan: PB12
spi_software_sclk_pin: EBBCan: PB10
spi_software_mosi_pin: EBBCan: PB11
spi_software_miso_pin: EBBCan: PB2
axes_map: x,y,z

[resonance_tester]
probe_points: 175, 175, 175
accel_chip: adxl345

[input_shaper]
shaper_freq_x: 93.8
shaper_type_x: 2hump_ei
shaper_freq_y: 41.4
shaper_type_y: zv

[gcode_arcs]
resolution: 0.1

#[z_thermal_adjust]
#temp_coeff: 0


[output_pin Daylight]
pin: PB15
pwm: True
cycle_time: 0.0100
value: 1.0
shutdown_value: 1


[filament_switch_sensor runout_sensor]
switch_pin: ^PA1
pause_on_runout: False
runout_gcode:
    SET_IDLE_TIMEOUT TIMEOUT=10800
    RESPOND MSG="Runout sensor reported NO FILAMENT"
    PAUSE # [pause_resume] is required in printer.cfg
  #M117 Filament switch runout
insert_gcode:
  #M117 Filament switch inserted
    RESPOND MSG="Filament inserted"

[filament_motion_sensor block_sensor]
switch_pin: ^PA2
detection_length: 50
extruder: extruder
pause_on_runout: False
runout_gcode:
    SET_IDLE_TIMEOUT TIMEOUT=10800
    RESPOND MSG="BLOCK sensor reported BLOCK FILAMENT"
    PAUSE # [pause_resume] is required in printer.cfg
  #M117 Filament encoder runout
#insert_gcode:
 # M117 Filament encoder inserted




[skew_correction] 
[shaketune]















[force_move]
[exclude_object]
[include steppers.cfg]
[include heaters.cfg]
[include fans.cfg]
[include macros.cfg]
[include mesh.cfg]
[include temp_sensors.cfg]
[include mainsail.cfg]
[include sensorless.cfg]
[include stealthburner_led.cfg]
[include /home/pi/printer_data/config/KAMP/KAMP_Settings.cfg]
[include test_speed.cfg]
#[include timelapse.cfg]
[include poweroff.cfg]
[include print_start.cfg]
[include K-ShakeTune/*.cfg]

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.075740, 0.064302, 0.064724, 0.069483, 0.073451, 0.079043, 0.067097, 0.059438, 0.062700, 0.067375, 0.058480, 0.055065, 0.057604, 0.060198, 0.054884, 0.055162, 0.057255, 0.058337, 0.055989, 0.048216, 0.037692, 0.031602, 0.039642, 0.053770, 0.062365
#*# 	  0.060447, 0.051288, 0.051283, 0.058152, 0.060831, 0.064061, 0.059592, 0.053641, 0.056147, 0.060451, 0.052959, 0.049987, 0.051754, 0.052533, 0.046036, 0.044958, 0.046315, 0.046974, 0.043865, 0.036428, 0.023192, 0.019047, 0.030891, 0.047137, 0.057350
#*# 	  0.047860, 0.043246, 0.039449, 0.044307, 0.049942, 0.057933, 0.050873, 0.041441, 0.046609, 0.051799, 0.045364, 0.041856, 0.044488, 0.045199, 0.038404, 0.031728, 0.035322, 0.035694, 0.029786, 0.016793, 0.008161, 0.004907, 0.017678, 0.032088, 0.041881
#*# 	  0.041156, 0.031387, 0.031900, 0.038636, 0.040613, 0.043526, 0.040480, 0.035563, 0.040495, 0.043978, 0.039205, 0.034547, 0.037547, 0.039096, 0.034273, 0.028279, 0.028034, 0.027493, 0.021935, 0.012857, 0.000297, -0.003297, 0.008796, 0.021481, 0.030940
#*# 	  0.039172, 0.034107, 0.030875, 0.035350, 0.035837, 0.042983, 0.033291, 0.028635, 0.033549, 0.037235, 0.030619, 0.025025, 0.028231, 0.030379, 0.029436, 0.022595, 0.022045, 0.019698, 0.014859, 0.007547, -0.003273, -0.008341, 0.004960, 0.015310, 0.019661
#*# 	  0.040518, 0.028563, 0.029691, 0.033185, 0.032158, 0.035924, 0.030574, 0.024760, 0.027263, 0.032985, 0.025061, 0.018664, 0.020309, 0.022375, 0.023323, 0.021818, 0.018365, 0.016735, 0.015190, 0.009065, -0.001844, -0.006769, 0.004771, 0.013129, 0.014745
#*# 	  0.042300, 0.034093, 0.025585, 0.027698, 0.028271, 0.031904, 0.023839, 0.017809, 0.022008, 0.028912, 0.020341, 0.013364, 0.013668, 0.015060, 0.015645, 0.011371, 0.014214, 0.017415, 0.016138, 0.009343, -0.002285, -0.005235, 0.005534, 0.011415, 0.009367
#*# 	  0.046489, 0.032617, 0.026211, 0.027488, 0.027434, 0.027209, 0.018994, 0.011866, 0.016651, 0.023415, 0.018021, 0.013843, 0.012970, 0.013399, 0.011386, 0.009798, 0.012842, 0.017046, 0.016253, 0.011357, 0.001814, 0.000893, 0.010590, 0.014520, 0.012204
#*# 	  0.046595, 0.036831, 0.027579, 0.025110, 0.025741, 0.028962, 0.017835, 0.007996, 0.011724, 0.016737, 0.011496, 0.008975, 0.011846, 0.011317, 0.006974, 0.005334, 0.009120, 0.013108, 0.012241, 0.009278, 0.003352, 0.005088, 0.014557, 0.018472, 0.013934
#*# 	  0.042184, 0.027174, 0.020524, 0.024123, 0.019838, 0.019695, 0.012476, 0.007984, 0.006878, 0.011930, 0.006743, 0.005262, 0.008240, 0.009297, 0.005452, 0.005063, 0.007561, 0.009594, 0.010065, 0.009605, 0.002871, 0.004637, 0.017077, 0.018703, 0.017671
#*# 	  0.034294, 0.022438, 0.013358, 0.016733, 0.015200, 0.012099, 0.003914, -0.000255, 0.003669, 0.006997, 0.002661, 0.000723, 0.002979, 0.005830, 0.002738, 0.002845, 0.003812, 0.005527, 0.008989, 0.006438, -0.001347, 0.002467, 0.013855, 0.020383, 0.014963
#*# 	  0.031975, 0.016497, 0.009438, 0.015023, 0.011531, 0.008517, 0.001224, 0.001660, 0.002668, 0.005632, 0.000969, -0.000779, 0.001406, 0.003811, 0.002407, 0.001432, 0.003164, 0.005670, 0.009934, 0.008047, 0.000062, 0.002578, 0.015464, 0.019579, 0.018238
#*# 	  0.029897, 0.018529, 0.010748, 0.012216, 0.012377, 0.010474, 0.002155, -0.000013, 0.003089, 0.007631, 0.003514, -0.001650, 0.000000, 0.002049, 0.001970, 0.003284, 0.005786, 0.006292, 0.010984, 0.010690, 0.003022, 0.003734, 0.017155, 0.023611, 0.019244
#*# 	  0.027910, 0.015278, 0.008054, 0.014572, 0.011267, 0.010020, -0.001256, 0.001170, 0.005068, 0.009480, 0.006131, 0.003244, 0.002797, 0.002659, 0.002296, 0.006800, 0.009699, 0.008643, 0.011994, 0.012007, 0.005049, 0.004643, 0.018489, 0.023340, 0.021466
#*# 	  0.029144, 0.018159, 0.011868, 0.011860, 0.013314, 0.011785, 0.003129, 0.000864, 0.007169, 0.009473, 0.007547, 0.006983, 0.007111, 0.004953, 0.005425, 0.006032, 0.012117, 0.012210, 0.012787, 0.013726, 0.005958, 0.008971, 0.022121, 0.029807, 0.023331
#*# 	  0.028092, 0.017531, 0.011239, 0.015558, 0.012600, 0.008547, -0.002988, -0.000354, 0.003450, 0.004764, 0.000941, 0.004031, 0.004680, 0.005066, 0.005026, 0.006509, 0.011846, 0.015978, 0.014641, 0.011386, 0.008106, 0.011354, 0.024872, 0.029011, 0.025435
#*# 	  0.026061, 0.015440, 0.011608, 0.008622, 0.006172, 0.002070, -0.005023, -0.006938, -0.002310, 0.001152, -0.003267, -0.000081, 0.002027, 0.004997, 0.006210, 0.007012, 0.008051, 0.013621, 0.013447, 0.009935, 0.004099, 0.012534, 0.025287, 0.032795, 0.027610
#*# 	  0.025341, 0.013020, 0.004018, 0.007030, 0.002521, -0.000801, -0.010169, -0.010168, -0.004193, 0.005411, 0.000797, 0.001164, -0.001001, 0.001385, 0.004061, 0.006613, 0.008519, 0.008842, 0.008297, 0.005198, 0.002599, 0.006847, 0.020101, 0.025923, 0.026369
#*# 	  0.024008, 0.011704, 0.004729, 0.002785, -0.000681, -0.004283, -0.011158, -0.013220, -0.002479, 0.012655, 0.007811, 0.001179, -0.002967, -0.001327, 0.001903, 0.005481, 0.002876, 0.004900, 0.003035, 0.001061, -0.004680, 0.002960, 0.016608, 0.029367, 0.027124
#*# 	  0.027621, 0.015361, 0.005800, 0.007716, 0.001571, -0.002117, -0.009158, -0.008280, -0.002708, 0.007230, 0.003336, 0.000344, -0.001475, 0.000131, 0.002483, 0.005203, 0.002871, 0.000935, 0.001004, -0.003505, -0.007513, -0.000479, 0.013652, 0.022634, 0.027521
#*# 	  0.031668, 0.019865, 0.013397, 0.009840, 0.005067, 0.002555, 0.000255, -0.002179, 0.002687, 0.006570, 0.003766, 0.005412, 0.003955, 0.007425, 0.009136, 0.010502, 0.004130, 0.004106, 0.003467, -0.000095, -0.012306, -0.004336, 0.008825, 0.025068, 0.026912
#*# 	  0.041106, 0.029191, 0.021866, 0.023255, 0.018005, 0.017163, 0.011995, 0.016170, 0.018372, 0.020684, 0.015835, 0.017276, 0.020027, 0.021100, 0.021017, 0.022159, 0.018698, 0.014878, 0.014442, 0.006332, -0.003509, -0.000496, 0.013179, 0.027687, 0.036412
#*# 	  0.050544, 0.036112, 0.033335, 0.034065, 0.034330, 0.034945, 0.031810, 0.027986, 0.031326, 0.033498, 0.029094, 0.029485, 0.030306, 0.031815, 0.031886, 0.032721, 0.027783, 0.025821, 0.023336, 0.014901, 0.001381, 0.007121, 0.019512, 0.036861, 0.044614
#*# 	  0.067300, 0.054399, 0.049060, 0.051957, 0.051799, 0.053122, 0.049087, 0.046269, 0.047901, 0.048049, 0.039990, 0.042962, 0.044279, 0.045433, 0.042264, 0.041841, 0.041780, 0.038062, 0.036019, 0.024584, 0.014664, 0.020395, 0.035272, 0.046554, 0.054351
#*# 	  0.089415, 0.078209, 0.074253, 0.072637, 0.070444, 0.073572, 0.070607, 0.065602, 0.067622, 0.067531, 0.061063, 0.058808, 0.062383, 0.062958, 0.060519, 0.058074, 0.058117, 0.054477, 0.051909, 0.041153, 0.030410, 0.039243, 0.056223, 0.066565, 0.071940
#*# x_count = 25
#*# y_count = 25
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 30.0
#*# max_x = 320.0
#*# min_y = 30.0
#*# max_y = 320.0
#*#
#*# [beacon model default]
#*# model_coef = 1.4808349618335799,
#*# 	  1.8150079984469918,
#*# 	  0.7571731369964566,
#*# 	  0.23380891415205704,
#*# 	  0.3331185716976056,
#*# 	  0.7617192601160314,
#*# 	  -0.1865858244831164,
#*# 	  -0.8862254655308051,
#*# 	  0.21513847790051185,
#*# 	  0.4779720555116235
#*# model_domain = 3.1946374205922597e-07,3.3364806212667e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 28.874692
#*# model_offset = 0.00000
#*#
#*# [beacon model textured]
#*# model_coef = 1.5197722718138305,
#*# 	1.856037299893034,
#*# 	0.7134149089264613,
#*# 	0.22695693299485403,
#*# 	0.44797980130079285,
#*# 	0.6778614963414286,
#*# 	-0.30785739294765774,
#*# 	-0.7298017060328998,
#*# 	0.22715090282991962,
#*# 	0.3715899613958613
#*# model_domain = 3.228357064494186e-07,3.3409861738278517e-07
#*# model_range = 0.200000,5.000000
#*# model_temp = 54.617612
#*# model_offset = 0.00000
#*#
#*# [skew_correction CaliFlower]
#*# xy_skew = -0.003325113961596694
#*# xz_skew = 0.0
#*# yz_skew = 0.0
